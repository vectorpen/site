(function(A){A.ui=A.ui||{};A.extend(A.ui,{plugin:{add:function(C,D,F){var E=A.ui[C].prototype;for(var B in F){E.plugins[B]=E.plugins[B]||[];E.plugins[B].push([D,F[B]])}},call:function(B,C,E){var H=B.plugins[C];if(!H){return }var G=B.interaction?B.interaction.options:B.options;var F=B.interaction?B.interaction.element:B.element;for(var D=0;D<H.length;D++){if(G[H[D][0]]){H[D][1].apply(F,E)}}}}});A.fn.extend({mouseInteraction:function(B){return this.each(function(){new A.ui.mouseInteraction(this,B)})},removeMouseInteraction:function(B){return this.each(function(){if(A.data(this.element,"ui-mouse")){A.data(this.element,"ui-mouse").destroy()}})}});A.ui.mouseInteraction=function(D,C){var B=this;this.element=D;A.data(this.element,"ui-mouse",this);this.options=A.extend({},C);A(D).bind("mousedown.draggable",function(){return B.click.apply(B,arguments)});if(A.browser.msie){A(D).attr("unselectable","on")}};A.extend(A.ui.mouseInteraction.prototype,{destroy:function(){this.element.unbind("mousedown.draggable")},trigger:function(){return this.click.apply(this,arguments)},click:function(D){if(D.which!=1||A.inArray(D.target.nodeName.toLowerCase(),this.options.dragPrevention)!=-1||(this.options.condition&&!this.options.condition.apply(this.options.executor||this,[D]))){return true}var C=this;var B=function(){window.focus();C._MP={left:D.pageX,top:D.pageY};A(document).bind("mouseup.draggable",function(){return C.stop.apply(C,arguments)});A(document).bind("mousemove.draggable",function(){return C.drag.apply(C,arguments)})};if(this.options.delay){if(this.timer){clearInterval(this.timer)}this.timer=setTimeout(B,this.options.delay)}else{B()}return false},stop:function(B){var C=this.options;if(!this.initialized){return A(document).unbind("mouseup.draggable").unbind("mousemove.draggable")}if(this.options.stop){this.options.stop.call(this.options.executor||this,B)}A(document).unbind("mouseup.draggable").unbind("mousemove.draggable");this.initialized=false;return false},drag:function(B){var C=this.options;if(A.browser.msie&&!B.button){return this.stop.apply(this,[B])}if(!this.initialized&&(Math.abs(this._MP.left-B.pageX)>=C.distance||Math.abs(this._MP.top-B.pageY)>=C.distance)){if(this.options.start){this.options.start.call(this.options.executor||this,B)}this.initialized=true}else{if(!this.initialized){return false}}if(C.drag){C.drag.call(this.options.executor||this,B)}return false}})})(jQuery);